<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Forehead Game</title>

<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial, sans-serif;
}

.game{
  position:relative;
  height:100vh;
  aspect-ratio:1080 / 1920;
  max-width:100vw;
}

.game img{
  width:100%;
  height:100%;
  object-fit:contain;
}

#board{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
}

.cell{
  position:absolute;
  width:10.18%;   /* 110 / 1080 */
  height:5.73%;   /* 110 / 1920 */

  display:flex;
  justify-content:center;
  align-items:center;

  font-size:6vw;
  font-weight:bold;
  color:white;
  cursor:pointer;
  user-select:none;
}

.ui{
  position:absolute;
  bottom:3%;
  width:100%;
  text-align:center;
  color:white;
}

button{
  margin-top:10px;
  padding:8px 20px;
  border:none;
  border-radius:20px;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<div class="game">
  <img src="bg.jpg">
  <div id="board"></div>

  <div class="ui">
    <div id="status">Your Turn</div>
    <button onclick="resetGame()">Restart</button>
  </div>
</div>

<script>
const board = document.getElementById("board");
const statusText = document.getElementById("status");

let cells = Array(9).fill("");
let gameActive = true;

/* Positions based on 1080x1920 original design converted to % */
const positions = [
  {x:32.5, y:28.8},
  {x:46.0, y:28.0},
  {x:57.9, y:26.6},

  {x:34.9, y:35.4},
  {x:47.9, y:35.8},
  {x:59.8, y:33.2},

  {x:36.4, y:41.6},
  {x:48.9, y:41.0},
  {x:60.3, y:39.9}
];

function createBoard(){
  board.innerHTML="";
  cells.forEach((_, index)=>{
    const cell=document.createElement("div");
    cell.classList.add("cell");
    cell.style.left = positions[index].x + "%";
    cell.style.top  = positions[index].y + "%";
    cell.addEventListener("click",()=>handleClick(index));
    board.appendChild(cell);
  });
}

function handleClick(index){
  if(cells[index]!=="" || !gameActive) return;
  makeMove(index,"X");

  if(gameActive){
    statusText.textContent="Computer thinking...";
    setTimeout(computerMove,1000);
  }
}

function makeMove(index,player){
  cells[index]=player;
  board.children[index].textContent=player;

  if(checkWinner(player)){
    statusText.textContent = player==="X" ? "You Win ðŸ˜Ž" : "Computer Wins ðŸ¤–";
    gameActive=false;
    return;
  }

  if(!cells.includes("")){
    statusText.textContent="Draw!";
    gameActive=false;
    return;
  }

  if(player==="O"){
    statusText.textContent="Your Turn";
  }
}

function computerMove(){
  let empty=cells.map((v,i)=>v===""?i:null).filter(v=>v!==null);
  if(empty.length===0) return;
  let move=empty[Math.floor(Math.random()*empty.length)];
  makeMove(move,"O");
}

function checkWinner(player){
  const combos=[
    [0,1,2],[3,4,5],[6,7,8],
    [0,3,6],[1,4,7],[2,5,8],
    [0,4,8],[2,4,6]
  ];
  return combos.some(combo=>combo.every(i=>cells[i]===player));
}

function resetGame(){
  cells = Array(9).fill("");
  gameActive = true;
  statusText.textContent = "Your Turn";
  createBoard();
}

createBoard();
</script>

</body>
</html>
